{"ast":null,"code":"import _asyncToGenerator from \"/home/xittz/Documentos/sa-bombeiros3/sa-bombeiros/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport 'ol/ol.css';\nimport 'ol/ol.css';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../auth/auth.service\";\nimport * as i3 from \"../services/bombeiro.service\";\nimport * as i4 from \"@angular/material/snack-bar\";\nimport * as i5 from \"@angular/forms\";\nexport class TelaCadastroComponent {\n  constructor(route, authService, router, bombeiroService, snackbar) {\n    this.route = route;\n    this.authService = authService;\n    this.router = router;\n    this.bombeiroService = bombeiroService;\n    this.snackbar = snackbar;\n    this.edit = false;\n    this.cadastroForm = new FormGroup({\n      nome: new FormControl('', [Validators.required]),\n      senha: new FormControl('', [Validators.required]),\n      nomeDeGuerra: new FormControl(''),\n      matricula: new FormControl('', [Validators.required]),\n      perfilAcesso: new FormControl(''),\n      email: new FormControl('', [Validators.required])\n    });\n  }\n\n  ngOnInit() {\n    this.subscription = this.route.url.subscribe(url => {\n      if (url.toString().includes('me')) {\n        this.bombeiro = this.authService.getUser();\n        this.update();\n        this.edit = true;\n      }\n    });\n  }\n\n  updateForm() {\n    var _a;\n\n    this.cadastroForm.setValue({\n      nome: this.bombeiro.nome || '',\n      email: this.bombeiro.email || '',\n      senha: this.bombeiro.senha || '',\n      matricula: ((_a = this.bombeiro) === null || _a === void 0 ? void 0 : _a.matricula) || '',\n      nomeDeGuerra: this.bombeiro.nomeDeGuerra || '',\n      perfilAcesso: this.bombeiro.perfilAcesso || ''\n    });\n  }\n\n  enviar() {\n    this.bombeiroService.create(this.cadastroForm.value); //this.cadastroForm.reset();\n  }\n\n  getBombeiroForm() {\n    if (!this.bombeiro) this.bombeiro = {};\n    this.bombeiro.nome = this.cadastroForm.value.nome;\n    this.bombeiro.email = this.cadastroForm.value.email;\n    this.bombeiro.senha = this.cadastroForm.value.senha;\n    this.bombeiro.perfilAcesso = this.cadastroForm.value.perfilAcesso;\n    this.bombeiro.matricula = this.cadastroForm.value.matricula;\n    this.bombeiro.nomeDeGuerra = this.cadastroForm.value.nomeDeGuerra;\n  }\n\n  update() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const bombeiroUp = yield _this.bombeiroService.update(_this.bombeiro.id, _this.bombeiro);\n\n        _this.snackbar.open('Bombeiro atualizado com sucesso', 'x', {\n          horizontalPosition: 'center',\n          verticalPosition: 'bottom',\n          panelClass: 'success'\n        });\n\n        return bombeiroUp;\n      } catch (error) {\n        _this.snackbar.open('Não foi possivel atualizar o bombeiro', 'x', {\n          horizontalPosition: 'center',\n          verticalPosition: 'top',\n          panelClass: 'warn'\n        });\n\n        throw error;\n      }\n    })();\n  }\n\n  create() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const bombeiro = yield _this2.bombeiroService.create(_this2.bombeiro);\n\n        _this2.snackbar.open('Bombeiro criado com sucesso', 'x', {\n          horizontalPosition: 'center',\n          verticalPosition: 'bottom',\n          panelClass: 'success'\n        });\n\n        return bombeiro;\n      } catch (error) {\n        _this2.snackbar.open('Não foi possivel criar novo bombeiro', 'x', {\n          horizontalPosition: 'center',\n          verticalPosition: 'bottom',\n          panelClass: 'warn'\n        });\n\n        throw error;\n      }\n    })();\n  }\n\n}\n\nTelaCadastroComponent.ɵfac = function TelaCadastroComponent_Factory(t) {\n  return new (t || TelaCadastroComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i3.BombeirosService), i0.ɵɵdirectiveInject(i4.MatSnackBar));\n};\n\nTelaCadastroComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TelaCadastroComponent,\n  selectors: [[\"app-tela-home\"]],\n  decls: 17,\n  vars: 1,\n  consts: [[1, \"flex-container\"], [2, \"margin-left\", \"4px\", 3, \"formGroup\"], [\"type\", \"email\", \"placeholder\", \"Email\", \"formControlName\", \"email\", 1, \"inputs\"], [\"type\", \"text\", \"placeholder\", \"Nome\", \"formControlName\", \"nome\", 1, \"inputs\"], [\"type\", \"password\", \"placeholder\", \"Senha\", \"formControlName\", \"senha\", 1, \"inputs\"], [\"type\", \"number\", \"placeholder\", \"Matricula\", \"formControlName\", \"matricula\", 1, \"inputs\"], [\"type\", \"text\", \"placeholder\", \"Nome de Guerra\", \"formControlName\", \"nomeDeGuerra\", 1, \"inputs\"], [\"type\", \"text\", \"placeholder\", \"Perfil de acesso\", \"formControlName\", \"perfilAcesso\", 1, \"inputs\"], [\"type\", \"button\", \"value\", \"Cadastrar\", \"id\", \"submit01\", 3, \"click\"]],\n  template: function TelaCadastroComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"h2\");\n      i0.ɵɵtext(2, \"Cadastro de Bombeiro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 1);\n      i0.ɵɵelement(4, \"input\", 2);\n      i0.ɵɵelement(5, \"br\");\n      i0.ɵɵelement(6, \"input\", 3);\n      i0.ɵɵelement(7, \"br\");\n      i0.ɵɵelement(8, \"input\", 4);\n      i0.ɵɵelement(9, \"br\");\n      i0.ɵɵelement(10, \"input\", 5);\n      i0.ɵɵelement(11, \"br\");\n      i0.ɵɵelement(12, \"input\", 6);\n      i0.ɵɵelement(13, \"br\");\n      i0.ɵɵelement(14, \"input\", 7);\n      i0.ɵɵelement(15, \"br\");\n      i0.ɵɵelementStart(16, \"input\", 8);\n      i0.ɵɵlistener(\"click\", function TelaCadastroComponent_Template_input_click_16_listener() {\n        return ctx.enviar();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.cadastroForm);\n    }\n  },\n  directives: [i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.DefaultValueAccessor, i5.NgControlStatus, i5.FormControlName, i5.NumberValueAccessor],\n  styles: [\".flex-container[_ngcontent-%COMP%] {\\n  align-self: center;\\n  justify-content: center;\\n  align-content: center;\\n  display: block;\\n  margin-top: 10em;\\n  width: 100%;\\n  height: 99%;\\n  background-color: white;\\n}\\n\\n.inputs[_ngcontent-%COMP%] {\\n  border-radius: 5px;\\n  border: solid black 1px;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n  padding: 5px;\\n  font-size: 19px;\\n  margin-top: 10px;\\n}\\n\\n#submit01[_ngcontent-%COMP%] {\\n  padding: 3px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  cursor: pointer;\\n  outline: 0;\\n  border: 2px gray;\\n  border-radius: 10px;\\n  background-color: transparent;\\n  border-style: solid;\\n  font-size: 22px;\\n  width: 10em;\\n  height: 30px;\\n  transition: 500ms;\\n  margin-left: 18px;\\n}\\n\\n#submit01[_ngcontent-%COMP%]:hover {\\n  color: white;\\n  background-color: red;\\n  transform: scale(1.02);\\n  box-shadow: 0px 5px 15px red;\\n  border: red solid;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlbGEtY2FkYXN0cm8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EscUJBQUE7RUFDQSxjQUFBO0VBQ0QsZ0JBQUE7RUFDQyxXQUFBO0VBQ0EsV0FBQTtFQUNBLHVCQUFBO0FBQ0Y7O0FBRUE7RUFDRyxrQkFBQTtFQUNELHVCQUFBO0FBQ0Y7O0FBRUU7RUFDRSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FBQ0o7O0FBRUU7RUFFRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxlQUFBO0VBQ0EsVUFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSw2QkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtBQUFKOztBQUlBO0VBRUEsWUFBQTtFQUNBLHFCQUFBO0VBQ0Esc0JBQUE7RUFDQSw0QkFBQTtFQUNBLGlCQUFBO0FBRkEiLCJmaWxlIjoidGVsYS1jYWRhc3Ryby5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mbGV4LWNvbnRhaW5lciB7XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbiAgZGlzcGxheTogYmxvY2s7XG4gbWFyZ2luLXRvcDogMTBlbTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogOTklO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7XG59XG5cbi5pbnB1dHN7XG4gICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlcjogc29saWQgYmxhY2sgMXB4O1xuICB9XG5cbiAgaW5wdXR7XG4gICAgcGFkZGluZzogNXB4O1xuICAgIGZvbnQtc2l6ZTogMTlweDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICB9XG5cbiAgI3N1Ym1pdDAxe1xuXG4gICAgcGFkZGluZzogM3B4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgb3V0bGluZTogMDtcbiAgICBib3JkZXI6IDJweCBncmF5O1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICBmb250LXNpemU6MjJweDtcbiAgICB3aWR0aDogMTBlbTtcbiAgICBoZWlnaHQ6IDMwcHg7XG4gICAgdHJhbnNpdGlvbjogNTAwbXM7XG4gICAgbWFyZ2luLWxlZnQ6IDE4cHg7XG4gIFxufVxuXG4jc3VibWl0MDE6aG92ZXJ7XG5cbmNvbG9yOiB3aGl0ZTtcbmJhY2tncm91bmQtY29sb3I6IHJlZDtcbnRyYW5zZm9ybTogc2NhbGUoMS4wMik7XG5ib3gtc2hhZG93OiAwcHggNXB4IDE1cHggcmVkO1xuYm9yZGVyOiByZWQgc29saWQgO1xufSJdfQ== */\"]\n});","map":{"version":3,"sources":["/home/xittz/Documentos/sa-bombeiros3/sa-bombeiros/src/app/tela-cadastro/tela-cadastro.component.ts","/home/xittz/Documentos/sa-bombeiros3/sa-bombeiros/src/app/tela-cadastro/tela-cadastro.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit} from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute ,Router } from '@angular/router';\nimport { BombeirosService } from '../services/bombeiro.service';\nimport 'ol/ol.css';\nimport 'ol/ol.css';\nimport { bombeiro } from '../models/bombeiro';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { AuthService } from '../auth/auth.service';\n\n@Component({\n  selector: 'app-tela-home',\n  templateUrl: './tela-cadastro.component.html',\n  styleUrls: ['./tela-cadastro.component.scss']\n})\n\nexport class TelaCadastroComponent implements OnInit {\n  edit = false;\n  bombeiro?: bombeiro;\n\n  constructor(private route: ActivatedRoute, private authService: AuthService, private router: Router, private bombeiroService: BombeirosService, private snackbar: MatSnackBar) { }\n  \n  subscription: any;\n\n  ngOnInit(): void {\n    this.subscription = this.route.url.subscribe((url) => {\n    if(url.toString().includes('me')) {\n      this.bombeiro = this.authService.getUser();\n      this.update()\n      this.edit = true;\n    }\n\n    })\n\n\n  }\n\n\n  updateForm() {\n    this.cadastroForm.setValue({\n      nome: this.bombeiro!.nome || '',\n      email: this.bombeiro!.email || '',\n      senha: this.bombeiro!.senha || '',\n      matricula: this.bombeiro?.matricula || '',\n      nomeDeGuerra: this.bombeiro!.nomeDeGuerra || '',\n      perfilAcesso: this.bombeiro!.perfilAcesso || '',\n    });\n  }\n\n\n  cadastroForm = new FormGroup({\n\n    nome: new FormControl('', [Validators.required]),\n    senha: new FormControl('', [Validators.required]),\n    nomeDeGuerra: new FormControl(''),\n    matricula: new FormControl('', [Validators.required]),\n    perfilAcesso: new FormControl(''),\n    email: new FormControl('', [Validators.required]),\n    \n  });\n\n  enviar(){\n    this.bombeiroService.create(this.cadastroForm.value);\n    //this.cadastroForm.reset();\n  }\n\n\n\n\n  getBombeiroForm(){\n    if(!this.bombeiro) this.bombeiro = {} as bombeiro;\n\n    this.bombeiro!.nome = this.cadastroForm.value.nome;\n    this.bombeiro!.email = this.cadastroForm.value.email;\n    this.bombeiro!.senha = this.cadastroForm.value.senha;\n    this.bombeiro!.perfilAcesso = this.cadastroForm.value.perfilAcesso;\n    this.bombeiro!.matricula = this.cadastroForm.value.matricula;\n    this.bombeiro!.nomeDeGuerra = this.cadastroForm.value.nomeDeGuerra;\n  \n  }\n\n  private async update(){\n    try{\n      const bombeiroUp = await this.bombeiroService.update(this.bombeiro!.id!, this.bombeiro!);\n      this.snackbar.open('Bombeiro atualizado com sucesso', 'x',{\n        horizontalPosition: 'center',\n        verticalPosition: 'bottom',\n        panelClass: 'success'\n\n      })\n      return bombeiroUp;\n    }catch(error){\n      this.snackbar.open('Não foi possivel atualizar o bombeiro', 'x', {\n        horizontalPosition: 'center',\n        verticalPosition: 'top',\n        panelClass: 'warn',\n      })\n      throw error;\n    }\n  }\n\n\n\n  private async create(){\n    try{\n      const bombeiro = await this.bombeiroService.create(this.bombeiro!);\n      this.snackbar.open('Bombeiro criado com sucesso', 'x', {\n        horizontalPosition: 'center',\n        verticalPosition: 'bottom',\n        panelClass: 'success'\n      })\n      return bombeiro;\n    }catch (error){\n      this.snackbar.open('Não foi possivel criar novo bombeiro', 'x', {\n        horizontalPosition: 'center',\n        verticalPosition: 'bottom',\n        panelClass: 'warn',\n      })\n      throw error;\n    }\n  }\n\n\n\n\n\n  }\n","<div class=\"flex-container\">\n  <h2>Cadastro de Bombeiro</h2>\n  <form [formGroup]=\"cadastroForm\" style=\"margin-left: 4px;\" >\n    <input  class=\"inputs\" type=\"email\" placeholder=\"Email\" formControlName=\"email\"/><br />\n    <input class=\"inputs\"type=\"text\" placeholder=\"Nome\"  formControlName=\"nome\"/><br />\n    <input class=\"inputs\" type=\"password\" placeholder=\"Senha\"  formControlName=\"senha\"/><br />\n    <input class=\"inputs\" type=\"number\" placeholder=\"Matricula\"  formControlName=\"matricula\"/><br />\n    <input class=\"inputs\" type=\"text\" placeholder=\"Nome de Guerra\"  formControlName=\"nomeDeGuerra\"/><br />\n    <input class=\"inputs\" type=\"text\" placeholder=\"Perfil de acesso\"  formControlName=\"perfilAcesso\"/><br />\n    \n    <input type=\"button\" (click)=\"enviar()\" value=\"Cadastrar\"  id=\"submit01\">\n  </form>\n\n</div>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}